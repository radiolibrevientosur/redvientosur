import{c as x,r as t,j as e,L as N,e as i,m as c,s as y}from"./index-C9n17DBE.js";import{C as w}from"./calendar-tgGg7R_o.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b=x("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=x("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]),L=()=>{const[h,o]=t.useState([]),[p,r]=t.useState(!0),[l,u]=t.useState("Todos");t.useEffect(()=>{(async()=>{r(!0);const{data:f,error:j}=await y.from("publicaciones").select("id, titulo, excerpt, imagen_portada, categoria, publicado_en, autor:usuarios(id, nombre_completo, avatar_url)").eq("tipo","blog").order("publicado_en",{ascending:!1});if(j){o([]),r(!1);return}const v=(f||[]).map(s=>{var d,n,m;return{id:s.id,title:s.titulo,excerpt:s.excerpt,coverImage:s.imagen_portada,authorId:((d=s.autor)==null?void 0:d.id)||"",authorName:((n=s.autor)==null?void 0:n.nombre_completo)||"Autor",authorAvatar:((m=s.autor)==null?void 0:m.avatar_url)||"",published:s.publicado_en,category:s.categoria||"General"}});o(v),r(!1)})()},[]);const g=["Todos","Arte","Música","Cine","Danza","Literatura"];return p?e.jsx("div",{className:"py-8 flex justify-center",children:e.jsx(N,{message:"Cargando artículos..."})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"relative rounded-xl overflow-hidden h-48 mb-6",children:[e.jsx("img",{src:"https://images.pexels.com/photos/3617457/pexels-photo-3617457.jpeg?auto=compress&cs=tinysrgb&w=600",alt:"Featured blog",className:"w-full h-full object-cover"}),e.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex flex-col justify-end p-4",children:[e.jsx("span",{className:"text-xs font-medium text-primary-300 mb-1",children:"DESTACADO"}),e.jsx("h2",{className:"text-xl font-bold text-white mb-1",children:"Festivales culturales: Espacios de integración"}),e.jsx("p",{className:"text-sm text-gray-200",children:"Cómo los eventos masivos están redefiniendo el acceso a la cultura"}),e.jsxs(i,{to:"/blogs/featured",className:"mt-2 text-sm text-white flex items-center",children:["Leer más ",e.jsx(b,{className:"ml-1 h-4 w-4"})]})]})]}),e.jsx("div",{className:"flex overflow-x-auto pb-2 hide-scrollbar",children:e.jsx("div",{className:"flex space-x-2",children:g.map(a=>e.jsx(c.button,{onClick:()=>u(a),className:`px-4 py-1.5 rounded-full text-sm whitespace-nowrap ${l===a?"bg-primary-600 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300"}`,whileTap:{scale:.95},children:a},a))})}),e.jsx("div",{className:"space-y-4",children:h.filter(a=>l==="Todos"||a.category===l).map(a=>e.jsx(i,{to:`/blogs/${a.id}`,children:e.jsx(c.div,{className:"card p-0 overflow-hidden",whileHover:{y:-2},transition:{duration:.2},children:e.jsxs("div",{className:"flex flex-col md:flex-row",children:[e.jsx("div",{className:"md:w-1/3 aspect-video md:aspect-square",children:e.jsx("img",{src:a.coverImage,alt:a.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-4 md:w-2/3",children:[e.jsxs("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400 mb-2",children:[e.jsx("span",{className:"bg-primary-100 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400 px-2 py-0.5 rounded-full",children:a.category}),e.jsx("span",{className:"mx-2",children:"•"}),e.jsx(w,{className:"h-3 w-3 mr-1"}),e.jsx("span",{children:new Date(a.published).toLocaleDateString("es-ES")})]}),e.jsx("h3",{className:"text-lg font-bold mb-1 text-gray-900 dark:text-white",children:a.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-3",children:a.excerpt}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"avatar h-6 w-6 mr-2",children:e.jsx("img",{src:a.authorAvatar,alt:a.authorName,className:"avatar-img"})}),e.jsx("span",{className:"text-xs font-medium",children:a.authorName})]})})]})]})})},a.id))}),e.jsx("div",{className:"fixed bottom-20 right-4 z-40",children:e.jsx(i,{to:"/blogs/new",children:e.jsx(c.button,{className:"btn btn-primary rounded-full p-3 shadow-lg",whileHover:{scale:1.05},whileTap:{scale:.95},"aria-label":"Crear nuevo blog",children:e.jsx(k,{className:"h-5 w-5"})})})})]})};export{L as default};
