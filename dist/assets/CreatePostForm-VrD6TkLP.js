import{c as we,r as a,j as e,s as I,d as C,e as je,f as te,I as Ne}from"./index-CkCNI7dU.js";import{u as ke}from"./postStore-f2sBwH6p.js";import{M as ae,A as Se,a as Ce,F as re}from"./AudioRecorder-TSr-0UMB.js";import{$ as se,d as ne}from"./native-DGJ9haqb.js";import{S as Re}from"./send-DtTyteps.js";/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],le=we("paperclip",Pe),Me=({onFileSelect:o,onCancel:w,folder:L="media"})=>{const[l,j]=a.useState(null),[R,s]=a.useState(null),[N,n]=a.useState(0),[T,i]=a.useState(!1),g=a.useRef(null),c=async P=>{var p;const m=((p=P.target.files)==null?void 0:p[0])||null;if(j(m),m){m.type.startsWith("image/")?s(URL.createObjectURL(m)):s(null),i(!0),n(0);try{const x=m.name.split(".").pop(),M=`${L}/${Date.now()}_${Math.random().toString(36).substring(2,8)}.${x}`;for(let f=1;f<=90;f+=10)await new Promise(E=>setTimeout(E,60)),n(f);const{error:k}=await I.storage.from("media").upload(M,m);if(n(100),i(!1),k)throw k;const{data:U}=I.storage.from("media").getPublicUrl(M);o(U.publicUrl),C.success("Archivo subido correctamente")}catch{i(!1),n(0),o(null),C.error("Error al subir archivo")}}else s(null),i(!1),n(0),o(null)},$=()=>{j(null),s(null),n(0),i(!1),o(null),w&&w(),g.current&&(g.current.value="")};return e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{ref:g,type:"file",onChange:c,disabled:T,className:"block",style:{display:"none"}}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("button",{type:"button",className:"p-2 rounded-full bg-gray-100 hover:bg-primary-100 text-gray-600 hover:text-primary-600 focus:outline-none focus:ring-2 focus:ring-primary-400",onClick:()=>{var P;return(P=g.current)==null?void 0:P.click()},disabled:T,"aria-label":"Seleccionar archivo",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.586-6.586a4 4 0 10-5.656-5.656l-6.586 6.586a6 6 0 108.485 8.485l6.586-6.586"})})}),l&&e.jsx("button",{type:"button",onClick:$,className:"btn btn-secondary btn-sm",children:"Cancelar"})]}),R&&e.jsx("img",{src:R,alt:"preview",className:"max-h-40 rounded"}),l&&!R&&e.jsxs("div",{className:"text-xs text-gray-500",children:["Archivo seleccionado: ",l.name]}),T&&e.jsx("div",{className:"w-full bg-gray-200 rounded h-2",children:e.jsx("div",{className:"bg-primary-500 h-2 rounded",style:{width:`${N}%`}})})]})},De=a.forwardRef(({onVideoReady:o,folder:w="media"},L)=>{const[l,j]=a.useState(!1),[R,s]=a.useState(!1),[N,n]=a.useState(0),[T,i]=a.useState(0),[g,c]=a.useState(null),[$,P]=a.useState(!1),[m,p]=a.useState(null),x=a.useRef(null),M=a.useRef([]),k=a.useRef(null),U=a.useRef(null),f=a.useRef(null),E=async()=>{c(null),i(0),n(0),s(!1);const d=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});f.current=d,U.current&&(U.current.srcObject=d,U.current.play());const h=new window.MediaRecorder(d);x.current=h,M.current=[],h.ondataavailable=u=>{M.current.push(u.data)},h.onstop=async()=>{const u=new Blob(M.current,{type:"video/webm"});s(!0),n(0);try{const D=`${w}/video_${Date.now()}_${Math.random().toString(36).substring(2,8)}.webm`;for(let W=1;W<=90;W+=10)await new Promise(y=>setTimeout(y,60)),n(W);const{error:b}=await I.storage.from("media").upload(D,u);if(n(100),s(!1),b)throw b;const{data:B}=I.storage.from("media").getPublicUrl(D);c(null),o(B.publicUrl),C.success("Video subido correctamente")}catch{s(!1),n(0),c(null),o(null),C.error("Error al subir video")}f.current&&f.current.getTracks().forEach(D=>D.stop())},h.start(),j(!0),k.current=setInterval(()=>i(u=>u+1),1e3)},z=()=>{x.current&&l&&(j(!1),k.current&&clearInterval(k.current),x.current.onstop=()=>{const d=new Blob(M.current,{type:"video/webm"});p(URL.createObjectURL(d)),P(!0),f.current&&f.current.getTracks().forEach(h=>h.stop())},x.current.stop())},_=async()=>{if(P(!1),!!m){s(!0),n(0);try{const d=await fetch(m).then(b=>b.blob()),h=`${w}/video_${Date.now()}_${Math.random().toString(36).substring(2,8)}.webm`;for(let b=1;b<=90;b+=10)await new Promise(B=>setTimeout(B,60)),n(b);const{error:u}=await I.storage.from("media").upload(h,d);if(n(100),s(!1),u)throw u;const{data:D}=I.storage.from("media").getPublicUrl(h);c(null),p(null),o(D.publicUrl),C.success("Video subido correctamente")}catch{s(!1),n(0),c(null),p(null),o(null),C.error("Error al subir video")}}},H=()=>{P(!1),c(null),p(null),i(0),n(0),s(!1),o(null),k.current&&clearInterval(k.current)},O=()=>{j(!1),c(null),p(null),i(0),n(0),s(!1),o(null),k.current&&clearInterval(k.current),x.current&&x.current.state!=="inactive"&&x.current.stop(),f.current&&f.current.getTracks().forEach(d=>d.stop())};return a.useImperativeHandle(L,()=>({startRecording:E,stopRecording:z,cancelRecording:O,isRecording:()=>l,isUploading:()=>R})),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[!l&&!R&&!$&&e.jsx("button",{type:"button",onClick:E,className:"btn btn-primary btn-sm",children:"Grabar video"}),l&&!$&&e.jsx("button",{type:"button",onClick:z,className:"btn btn-danger btn-sm animate-pulse",children:"Detener"}),l&&!$&&e.jsxs("span",{className:"text-red-500 font-mono animate-pulse",children:[T,"s"]}),(g||l||R)&&!$&&e.jsx("button",{type:"button",onClick:O,className:"btn btn-secondary btn-sm",children:"Cancelar"})]}),$&&m&&e.jsxs("div",{className:"flex flex-col items-center gap-3 animate-fade-in bg-white dark:bg-gray-900 rounded-xl shadow-lg p-4 border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex flex-col items-center gap-1",children:[e.jsx("span",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400 animate-bounce",children:"Â¡Revisa tu video!"}),e.jsx("span",{className:"text-base text-gray-700 dark:text-gray-200",children:"Â¿Quieres enviarlo o descartarlo?"})]}),e.jsx("video",{src:m,controls:!0,className:"w-full my-2 rounded-lg shadow",style:{maxHeight:240}}),e.jsxs("div",{className:"flex gap-4 mt-2",children:[e.jsxs("button",{type:"button",onClick:_,className:"btn btn-success btn-lg flex items-center gap-2 animate-bounce",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Enviar"]}),e.jsxs("button",{type:"button",onClick:H,className:"btn btn-danger btn-lg flex items-center gap-2 animate-shake",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Descartar"]})]}),e.jsx("button",{type:"button",onClick:E,className:"btn btn-primary btn-xs mt-2 animate-fade-in",children:"Regrabar"})]}),g&&!l&&!R&&!$&&e.jsxs("div",{className:"space-y-1 relative group",children:[e.jsx("video",{src:g,controls:!0,className:"w-full rounded-lg",style:{maxHeight:240}}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsxs("button",{type:"button",onClick:()=>{c(null),p&&p(null),o(null),C("Nota de video eliminada")},className:"btn btn-danger btn-xs flex items-center gap-1 animate-shake",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Descartar"]}),e.jsx("button",{type:"button",onClick:E,className:"btn btn-primary btn-xs",children:"Regrabar"})]})]}),e.jsx("video",{ref:U,className:"w-full rounded-lg",autoPlay:!0,muted:!0,playsInline:!0,style:{display:l?"block":"none",maxHeight:240}}),R&&e.jsx("div",{className:"w-full bg-gray-200 rounded h-2",children:e.jsx("div",{className:"bg-primary-500 h-2 rounded",style:{width:`${N}%`}})})]})}),Le=({onSuccess:o})=>{const[w,L]=a.useState(""),[l,j]=a.useState([]),[R,s]=a.useState("text"),[N,n]=a.useState(!1),T=a.useRef(null),i=a.useRef(null),[g,c]=a.useState(!1),[$,P]=a.useState(!1),[m,p]=a.useState(!1),[x,M]=a.useState(!1),[k,U]=a.useState(!1),[f,E]=a.useState(!1),[z,_]=a.useState(null),H=a.useRef(null),[O,d]=a.useState(!1),[h,u]=a.useState([]),[D,b]=a.useState(""),[B,W]=a.useState(!1),{user:y}=je(),{addPost:oe}=ke(),ie=async t=>{if(t.preventDefault(),!y){C.error("Debes iniciar sesiÃ³n para crear una publicaciÃ³n");return}if(!w.trim()&&l.length===0){C.error("Por favor, agrega contenido o un archivo");return}n(!0);try{await oe({userId:y.id,type:R,content:w.trim(),mediaUrls:l.length>0?l:void 0,isFavorite:!1}),L(""),j([]),s("text"),C.success("Â¡PublicaciÃ³n creada exitosamente!"),o&&o()}catch(r){C.error("Error al crear la publicaciÃ³n"),console.error("Failed to create post:",r)}finally{n(!1)}},ce=t=>{j(t?[{url:t,type:"document",name:""}]:[]),t?t.match(/\.(jpg|jpeg|png|gif)$/i)?s("image"):t.match(/\.(mp4|webm|mov)$/i)?s("video"):t.match(/\.(mp3|wav|ogg)$/i)?s("audio"):s("document"):s("text")},de=t=>{j(t?[{url:t,type:"audio",name:""}]:[]),s(t?"audio":"text"),p(!1),c(!1)},ue=t=>{j(t?[{url:t,type:"video",name:""}]:[]),s(t?"video":"text"),M(!1)},Q=()=>{p(!0),P(!1),M(!1),c(!0),window.navigator.vibrate&&window.navigator.vibrate([50,30,50]),setTimeout(()=>{var t;(t=T.current)==null||t.startRecording()},50)},V=()=>{var t;g&&((t=T.current)==null||t.stopRecording(),c(!1))},q=()=>{var t;g&&((t=T.current)==null||t.cancelRecording(),c(!1))},J=()=>{M(!0),P(!1),p(!1),setTimeout(()=>{var t;(t=i.current)==null||t.startRecording()},50)},K=()=>{var t;(t=i.current)==null||t.stopRecording()},X=()=>{var t;(t=i.current)==null||t.cancelRecording()},me=t=>{var r,S;L(w+(t.native||((S=(r=t.skins)==null?void 0:r[0])==null?void 0:S.native)||"")),U(!1)},pe=()=>{E(!0),_(null)},G=t=>{_(t),setTimeout(()=>{var r;return(r=H.current)==null?void 0:r.click()},200)},Y=t=>{const r=t.target.files;if(!r||r.length===0)return;const S=Array.from(r).map(v=>{const F=URL.createObjectURL(v);let A="document";return v.type.startsWith("image/")?A="image":v.type.startsWith("video/")?A="video":v.type.startsWith("audio/")&&(A="audio"),{url:F,type:A,name:v.name}});u(v=>[...v,...S]),d(!0),E(!1),_(null)},he=t=>{u(r=>r.filter((S,v)=>v!==t))},be=t=>{var r,S;b(D+(t.native||((S=(r=t.skins)==null?void 0:r[0])==null?void 0:S.native)||"")),W(!1)},ge=async()=>{if(h.length>0){n(!0);try{const t=await Promise.all(h.map(async r=>{if(r.url.startsWith("https://"))return r;const v=await(await fetch(r.url)).blob(),F=r.name.split(".").pop(),A=`posts/${Date.now()}_${Math.random().toString(36).substring(2,8)}.${F}`,{error:ee}=await I.storage.from("media").upload(A,v);if(ee)throw ee;const{data:ve}=I.storage.from("media").getPublicUrl(A);return{...r,url:ve.publicUrl}}));j(t),s(t[0].type),L(D)}catch{C.error("Error al subir archivos adjuntos")}finally{n(!1),d(!1),u([]),b("")}}else d(!1),u([]),b("")},Z=()=>{d(!1),u([]),b("")},xe=t=>r=>{r.dataTransfer.setData("drag-idx",t.toString())},fe=t=>r=>{r.preventDefault();const S=parseInt(r.dataTransfer.getData("drag-idx"));S!==t&&u(v=>{const F=[...v],[A]=F.splice(S,1);return F.splice(t,0,A),F})},ye=t=>{t.preventDefault()};return e.jsx("div",{className:"feed-item mb-4 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 shadow-sm",children:e.jsxs("form",{onSubmit:ie,children:[e.jsx("div",{className:"p-4 pb-2",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"avatar",children:e.jsx("img",{src:y==null?void 0:y.avatar,alt:y==null?void 0:y.displayName,className:"avatar-img"})}),e.jsx("textarea",{placeholder:`Hola ${(y==null?void 0:y.displayName)||""} Â¿QuÃ© estÃ¡ pasando?`,value:w,onChange:t=>L(t.target.value),className:"flex-1 p-4 text-lg text-gray-900 dark:text-white bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded-2xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 shadow-sm resize-none min-h-[48px] max-h-[160px] transition-all placeholder-gray-400 dark:placeholder-gray-500",rows:2,"aria-label":"Contenido de la publicaciÃ³n",required:!l.length,disabled:N,style:{height:"auto",boxShadow:"0 2px 8px 0 rgba(0,0,0,0.04)"},onInput:t=>{const r=t.target;r.style.height="auto",r.style.height=r.scrollHeight+"px"}})]})}),e.jsxs("div",{className:"px-4 py-2 flex items-end border-t border-gray-100 dark:border-gray-800 bg-white dark:bg-gray-900 rounded-b-2xl",children:[e.jsx("button",{type:"button",className:"p-2 rounded-full text-gray-600 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-800 mr-1",onClick:()=>U(t=>!t),"aria-label":"Insertar emoji",disabled:N,children:e.jsx("span",{role:"img","aria-label":"emoji",children:"ðŸ˜Š"})}),e.jsx("button",{type:"button",className:"p-2 rounded-full text-gray-600 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-800 mr-1",onClick:pe,"aria-label":"Adjuntar archivo",disabled:N,children:e.jsx(le,{className:"h-5 w-5"})}),e.jsx("div",{className:"flex-1"}),w.trim()||l.length>0?e.jsx("button",{type:"submit",disabled:N||!w.trim()&&l.length===0,className:"btn btn-primary p-2 rounded-full flex items-center justify-center ml-1","aria-busy":N,children:N?e.jsx("span",{className:"loader h-5 w-5"}):e.jsx(Re,{className:"h-5 w-5"})}):e.jsxs("button",{type:"button",className:`relative p-2 rounded-full text-gray-600 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-800 ml-1 transition-all duration-200
                ${m?"bg-red-200 text-red-600 ring-4 ring-red-400/30 animate-pulse":""}`,onMouseDown:Q,onMouseUp:V,onMouseLeave:q,onTouchStart:Q,onTouchEnd:V,onTouchCancel:q,"aria-label":"Grabar nota de voz",disabled:N,children:[g&&e.jsx("span",{className:"absolute inset-0 rounded-full border-2 border-red-400 animate-ping"}),e.jsx(ae,{className:"h-5 w-5 relative z-10"})]}),e.jsx("button",{type:"button",className:`p-2 rounded-full text-gray-600 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-800 ml-1 ${x?"bg-blue-200 text-blue-600":""}`,onMouseDown:J,onMouseUp:K,onMouseLeave:X,onTouchStart:J,onTouchEnd:K,onTouchCancel:X,"aria-label":"Grabar nota de video",disabled:N,children:e.jsx(te,{className:"h-5 w-5"})})]}),$&&e.jsx("div",{className:"px-4 pb-2",children:e.jsx(Me,{onFileSelect:ce})}),m&&e.jsxs("div",{className:"px-4 pb-2",children:[e.jsx(Se,{ref:T,onAudioReady:de}),g&&e.jsxs("div",{className:"text-red-600 font-bold mt-2 flex items-center gap-2",children:[e.jsx(ae,{className:"h-4 w-4 animate-pulse"})," Grabando... Suelta para enviar, desliza fuera para cancelar"]})]}),x&&e.jsxs("div",{className:"px-4 pb-2",children:[e.jsx(De,{ref:i,onVideoReady:ue}),e.jsxs("div",{className:"text-blue-600 font-bold mt-2 flex items-center gap-2",children:[e.jsx(te,{className:"h-4 w-4 animate-pulse"})," Grabando video... Suelta para enviar, desliza fuera para cancelar"]})]}),k&&e.jsx("div",{className:"fixed left-12 bottom-8 z-50 animate-slide-down shadow-2xl rounded-2xl bg-white dark:bg-gray-900 border border-primary-200 dark:border-primary-700",children:e.jsx(se,{data:ne,onEmojiSelect:me,theme:"auto"})}),f&&e.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-lg p-6 w-full max-w-xs flex flex-col items-center gap-4 relative",children:[e.jsx("button",{className:"absolute top-2 right-2 text-gray-400 hover:text-gray-700 text-2xl",onClick:()=>E(!1),children:"Ã—"}),e.jsx("h3",{className:"text-lg font-bold mb-2",children:"Â¿QuÃ© quieres adjuntar?"}),e.jsxs("div",{className:"flex flex-col gap-3 w-full",children:[e.jsxs("button",{type:"button",className:"w-full flex items-center gap-2 justify-center rounded-full py-2 text-base font-semibold bg-white dark:bg-gray-800 border border-primary-200 dark:border-gray-700 shadow-sm hover:bg-primary-50 dark:hover:bg-gray-700 transition-colors text-primary-700 dark:text-primary-200",onClick:()=>G("media"),children:[e.jsx(Ne,{className:"h-5 w-5"})," Foto/Video"]}),e.jsxs("button",{type:"button",className:"w-full flex items-center gap-2 justify-center rounded-full py-2 text-base font-semibold bg-white dark:bg-gray-800 border border-primary-200 dark:border-gray-700 shadow-sm hover:bg-primary-50 dark:hover:bg-gray-700 transition-colors text-primary-700 dark:text-primary-200",onClick:()=>G("music"),children:[e.jsx(Ce,{className:"h-5 w-5"})," MÃºsica"]}),e.jsxs("button",{type:"button",className:"w-full flex items-center gap-2 justify-center rounded-full py-2 text-base font-semibold bg-white dark:bg-gray-800 border border-primary-200 dark:border-gray-700 shadow-sm hover:bg-primary-50 dark:hover:bg-gray-700 transition-colors text-primary-700 dark:text-primary-200",onClick:()=>G("document"),children:[e.jsx(re,{className:"h-5 w-5"})," Documento"]})]}),e.jsx("input",{ref:H,type:"file",accept:z==="media"?"image/*,video/*":z==="music"?"audio/*":z==="document"?".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt,.zip,.rar,.csv":"*/*",style:{display:"none"},onChange:Y})]})}),O&&e.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-lg p-6 w-full max-w-md flex flex-col items-center gap-4 relative animate-slide-up",children:[e.jsx("button",{className:"absolute top-2 right-2 text-gray-400 hover:text-gray-700 text-2xl",onClick:Z,children:"Ã—"}),e.jsx("h3",{className:"text-lg font-bold mb-2",children:"PrevisualizaciÃ³n de archivos"}),e.jsxs("div",{className:"w-full flex flex-wrap gap-3 items-center justify-center",children:[h.map((t,r)=>e.jsxs("div",{className:"relative group",draggable:!0,onDragStart:xe(r),onDrop:fe(r),onDragOver:ye,children:[t.type==="image"&&e.jsx("img",{src:t.url,alt:"PrevisualizaciÃ³n",className:"rounded-lg max-h-32 max-w-[120px] object-contain border cursor-move"}),t.type==="video"&&e.jsx("video",{src:t.url,controls:!0,className:"rounded-lg max-h-32 max-w-[120px] object-contain border cursor-move"}),t.type==="audio"&&e.jsx("audio",{src:t.url,controls:!0,className:"w-28"}),t.type==="document"&&e.jsxs("div",{className:"flex flex-col items-center w-28",children:[e.jsx(re,{className:"h-8 w-8 text-primary-500 mb-1"}),e.jsx("span",{className:"text-xs text-gray-700 dark:text-gray-200 truncate",children:t.name})]}),e.jsx("button",{type:"button",className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs opacity-80 group-hover:opacity-100",onClick:()=>he(r),title:"Eliminar archivo",children:"Ã—"})]},t.url)),e.jsxs("label",{className:"flex flex-col items-center justify-center cursor-pointer border-2 border-dashed border-primary-300 rounded-lg p-4 hover:bg-primary-50 dark:hover:bg-gray-800 transition-colors",children:[e.jsx(le,{className:"h-6 w-6 text-primary-500 mb-1"}),e.jsx("span",{className:"text-xs text-primary-700 dark:text-primary-200",children:"Agregar mÃ¡s"}),e.jsx("input",{type:"file",multiple:!0,accept:"image/*,video/*,audio/*,.pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt,.zip,.rar,.csv",className:"hidden",onChange:Y})]})]}),e.jsxs("div",{className:"w-full mt-2",children:[e.jsx("div",{className:"flex items-center mb-2",children:e.jsx("button",{type:"button",className:"p-1 rounded-full text-gray-600 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-800",onClick:()=>W(t=>!t),"aria-label":"Insertar emoji",children:"ðŸ˜Š"})}),e.jsx("textarea",{className:"w-full p-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-white resize-none min-h-[48px]",placeholder:"Escribe un mensaje para acompaÃ±ar tus archivos...",value:D,onChange:t=>b(t.target.value)}),B&&e.jsx("div",{className:"absolute z-50 mt-2",children:e.jsx(se,{data:ne,onEmojiSelect:be,theme:"auto"})})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{type:"button",className:"btn btn-primary px-4 py-2 rounded-full",onClick:ge,disabled:h.length===0,children:"Adjuntar"}),e.jsx("button",{type:"button",className:"btn btn-secondary px-4 py-2 rounded-full",onClick:Z,children:"Cancelar"})]})]})})]})})};export{Le as C};
