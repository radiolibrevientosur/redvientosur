import{b as m,j as e,s as p}from"./index-COvD-dsj.js";import{u}from"./CreateEventForm-Ddz9XPjT.js";const g=({onSuccess:l,onCancel:t})=>{const{register:s,handleSubmit:n,formState:{errors:a},reset:d}=u(),i=m(r=>r.user),c=async r=>{if(!i)return;const{error:o}=await p.from("tareas").insert({nombre:r.nombre,fecha_limite:r.fecha_limite,estado:r.estado,prioridad:r.prioridad,asignada_a:r.asignada_a,descripcion:r.descripcion,creador_id:i.id});if(o){alert("Error al crear la tarea: "+o.message);return}d(),l()};return e.jsxs("form",{onSubmit:n(c),className:"space-y-6 bg-white dark:bg-gray-900 p-6 rounded-xl shadow-md max-w-lg mx-auto",children:[e.jsx("h2",{className:"text-2xl font-bold text-center text-primary-700 dark:text-primary-300 mb-4",children:"Crear Nueva Tarea"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold mb-1",children:"Nombre de la tarea"}),e.jsx("input",{...s("nombre",{required:!0}),className:"input w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-400"}),a.nombre&&e.jsx("span",{className:"text-red-500 text-xs",children:"Este campo es obligatorio"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold mb-1",children:"Fecha y hora límite"}),e.jsx("input",{type:"datetime-local",...s("fecha_limite",{required:!0}),className:"input w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-400"}),a.fecha_limite&&e.jsx("span",{className:"text-red-500 text-xs",children:"Este campo es obligatorio"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold mb-1",children:"Estado"}),e.jsxs("select",{...s("estado",{required:!0}),className:"input w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-400",children:[e.jsx("option",{value:"pendiente",children:"Pendiente"}),e.jsx("option",{value:"en_progreso",children:"En progreso"}),e.jsx("option",{value:"completada",children:"Completada"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold mb-1",children:"Prioridad"}),e.jsxs("select",{...s("prioridad",{required:!0}),className:"input w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-400",children:[e.jsx("option",{value:"baja",children:"Baja"}),e.jsx("option",{value:"media",children:"Media"}),e.jsx("option",{value:"alta",children:"Alta"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block font-semibold mb-1",children:"Asignada a"}),e.jsx("input",{...s("asignada_a",{required:!0}),className:"input w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-400",placeholder:"Nombre(s) o identificador(es)"}),a.asignada_a&&e.jsx("span",{className:"text-red-500 text-xs",children:"Este campo es obligatorio"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block font-semibold mb-1",children:"Descripción"}),e.jsx("textarea",{...s("descripcion",{required:!0}),className:"input w-full border rounded-lg px-3 py-2 min-h-[80px] focus:ring-2 focus:ring-primary-400"}),a.descripcion&&e.jsx("span",{className:"text-red-500 text-xs",children:"Este campo es obligatorio"})]})]}),e.jsxs("div",{className:"flex gap-2 justify-end mt-4",children:[e.jsx("button",{type:"button",onClick:t,className:"btn-secondary px-4 py-2 rounded-lg border border-gray-300 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 hover:bg-gray-200 transition",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"btn-primary px-4 py-2 rounded-lg bg-primary-600 text-white font-semibold hover:bg-primary-700 transition",children:"Crear tarea"})]})]})};export{g as C};
