import{t as p,r,u as f,s as x,j as e}from"./index-DZQ_1XEG.js";import{u as g}from"./postStore-WmoqTb66.js";import{P as v}from"./PostCard-CZCjaT-l.js";import P from"./NotFoundPage-B-jyOIat.js";import"./endOfMonth-CHJGNAHY.js";import"./en-US-D3c9jfE3.js";import"./native-BZDlRLbF.js";import"./more-horizontal-GKAtJbWV.js";import"./share-2-DXdZN_52.js";const _=()=>{const{id:s}=p(),{posts:i}=g(),[n,a]=r.useState(null),[u,o]=r.useState(!0),d=f();return r.useEffect(()=>{const l=i.find(t=>t.id===s);l?(a(l),o(!1)):s&&(async()=>{var m;o(!0);const{data:t,error:c}=await x.from("posts").select("*").eq("id",s).single();a(t&&!c?{id:t.id,userId:t.autor_id,type:t.tipo,content:t.contenido,mediaUrl:(m=t.multimedia_url)==null?void 0:m[0],createdAt:t.creado_en,likes:[],comments:[],isFavorite:!1}:null),o(!1)})()},[s,i]),u?e.jsx("div",{className:"p-8 text-center",children:"Cargando..."}):n?e.jsxs("div",{className:"max-w-xl mx-auto p-4",children:[e.jsx("button",{onClick:()=>d("/"),className:"text-primary-600 dark:text-primary-400 hover:underline mb-4",children:"← Volver a inicio"}),e.jsx(v,{post:n,disableCardNavigation:!0,onDeleted:()=>d("/")})]}):e.jsx(P,{})};export{_ as default};
