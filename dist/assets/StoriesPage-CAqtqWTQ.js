import{c as L,r as s,M as z,j as e,g as M,h as A,i as D,k as U,l as T,L as $,m as v}from"./index-C9n17DBE.js";import{H as V}from"./heart-D0MZu-wX.js";import{M as O}from"./message-circle-B6nwRzj5.js";import{S as H}from"./share-2-DWrwP33u.js";import{C as B}from"./chevron-left-Cx7l2oFP.js";import{C as G}from"./chevron-right-DuzZAIh7.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=L("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);class W extends s.Component{getSnapshotBeforeUpdate(p){const r=this.props.childRef.current;if(r&&p.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function _({children:a,isPresent:p}){const r=s.useId(),i=s.useRef(null),d=s.useRef({width:0,height:0,top:0,left:0}),{nonce:h}=s.useContext(z);return s.useInsertionEffect(()=>{const{width:n,height:o,top:x,left:l}=d.current;if(p||!i.current||!n||!o)return;i.current.dataset.motionPopId=r;const m=document.createElement("style");return h&&(m.nonce=h),document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${n}px !important;
            height: ${o}px !important;
            top: ${x}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(m)}},[p]),e.jsx(W,{isPresent:p,childRef:i,sizeRef:d,children:s.cloneElement(a,{ref:i})})}const F=({children:a,initial:p,isPresent:r,onExitComplete:i,custom:d,presenceAffectsLayout:h,mode:n})=>{const o=M(q),x=s.useId(),l=s.useCallback(f=>{o.set(f,!0);for(const t of o.values())if(!t)return;i&&i()},[o,i]),m=s.useMemo(()=>({id:x,initial:p,isPresent:r,custom:d,onExitComplete:l,register:f=>(o.set(f,!1),()=>o.delete(f))}),h?[Math.random(),l]:[r,l]);return s.useMemo(()=>{o.forEach((f,t)=>o.set(t,!1))},[r]),s.useEffect(()=>{!r&&!o.size&&i&&i()},[r]),n==="popLayout"&&(a=e.jsx(_,{isPresent:r,children:a})),e.jsx(A.Provider,{value:m,children:a})};function q(){return new Map}const b=a=>a.key||"";function I(a){const p=[];return s.Children.forEach(a,r=>{s.isValidElement(r)&&p.push(r)}),p}const J=({children:a,custom:p,initial:r=!0,onExitComplete:i,presenceAffectsLayout:d=!0,mode:h="sync",propagate:n=!1})=>{const[o,x]=D(n),l=s.useMemo(()=>I(a),[a]),m=n&&!o?[]:l.map(b),f=s.useRef(!0),t=s.useRef(l),c=M(()=>new Map),[P,R]=s.useState(l),[j,k]=s.useState(l);U(()=>{f.current=!1,t.current=l;for(let g=0;g<j.length;g++){const u=b(j[g]);m.includes(u)?c.delete(u):c.get(u)!==!0&&c.set(u,!1)}},[j,m.length,m.join("-")]);const N=[];if(l!==P){let g=[...l];for(let u=0;u<j.length;u++){const w=j[u],C=b(w);m.includes(C)||(g.splice(u,0,w),N.push(w))}h==="wait"&&N.length&&(g=N),k(I(g)),R(l);return}const{forceRender:y}=s.useContext(T);return e.jsx(e.Fragment,{children:j.map(g=>{const u=b(g),w=n&&!o?!1:l===j||m.includes(u),C=()=>{if(c.has(u))c.set(u,!0);else return;let S=!0;c.forEach(E=>{E||(S=!1)}),S&&(y==null||y(),k(t.current),n&&(x==null||x()),i&&i())};return e.jsx(F,{isPresent:w,initial:!f.current||r?void 0:!1,custom:w?void 0:p,presenceAffectsLayout:d,mode:h,onExitComplete:w?void 0:C,children:g},u)})})},Q=[{id:"1",userId:"1",userName:"María González",userAvatar:"https://images.pexels.com/photos/1036623/pexels-photo-1036623.jpeg?auto=compress&cs=tinysrgb&w=100",imageUrl:"https://images.pexels.com/photos/3617457/pexels-photo-3617457.jpeg?auto=compress&cs=tinysrgb&w=600",description:'Inauguración de la exposición "Luces del Sur" en el Centro Cultural',createdAt:new Date().toISOString(),likes:24,isViewed:!1},{id:"2",userId:"2",userName:"Carlos Moreno",userAvatar:"https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg?auto=compress&cs=tinysrgb&w=100",imageUrl:"https://images.pexels.com/photos/1749/fire-orange-emergency-burning.jpg?auto=compress&cs=tinysrgb&w=600",description:"Ensayo general para el concierto de música andina",createdAt:new Date().toISOString(),likes:18,isViewed:!1},{id:"3",userId:"3",userName:"Laura Díaz",userAvatar:"https://images.pexels.com/photos/1239291/pexels-photo-1239291.jpeg?auto=compress&cs=tinysrgb&w=100",imageUrl:"https://images.pexels.com/photos/995301/pexels-photo-995301.jpeg?auto=compress&cs=tinysrgb&w=600",description:"Taller de danza contemporánea en la plaza central",createdAt:new Date().toISOString(),likes:32,isViewed:!1},{id:"4",userId:"4",userName:"Pedro Ramírez",userAvatar:"https://images.pexels.com/photos/1681010/pexels-photo-1681010.jpeg?auto=compress&cs=tinysrgb&w=100",imageUrl:"https://images.pexels.com/photos/2873486/pexels-photo-2873486.jpeg?auto=compress&cs=tinysrgb&w=600",description:'Rodaje del nuevo cortometraje "Raíces"',createdAt:new Date().toISOString(),likes:15,isViewed:!1}],re=()=>{const[a,p]=s.useState([]),[r,i]=s.useState(!0),[d,h]=s.useState(null),[n,o]=s.useState(0);s.useEffect(()=>{(async()=>{await new Promise(c=>setTimeout(c,1e3)),p(Q),i(!1)})()},[]);const x=(t,c)=>{h(t),o(c)},l=()=>{h(null)},m=t=>{t.stopPropagation(),n<a.length-1?(o(n+1),h(a[n+1])):l()},f=t=>{t.stopPropagation(),n>0&&(o(n-1),h(a[n-1]))};return r?e.jsx("div",{className:"py-8 flex justify-center",children:e.jsx($,{message:"Cargando stories..."})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"pt-2",children:e.jsxs("div",{className:"flex overflow-x-auto space-x-4 pb-4 hide-scrollbar",children:[e.jsxs(v.div,{whileTap:{scale:.95},className:"flex flex-col items-center min-w-[80px]",children:[e.jsx("div",{className:"w-16 h-16 rounded-full border-2 border-dashed border-primary-500 flex items-center justify-center bg-primary-50 dark:bg-primary-900/20",children:e.jsx(K,{className:"h-8 w-8 text-primary-500"})}),e.jsx("span",{className:"text-xs mt-1 text-gray-600 dark:text-gray-400",children:"Crear"})]}),a.map((t,c)=>e.jsxs(v.div,{whileTap:{scale:.95},className:"flex flex-col items-center min-w-[80px]",onClick:()=>x(t,c),children:[e.jsx("div",{className:`w-16 h-16 rounded-full p-[2px] ${t.isViewed?"bg-gray-300 dark:bg-gray-700":"bg-gradient-to-br from-primary-500 to-accent-500"}`,children:e.jsx("img",{src:t.userAvatar,alt:t.userName,className:"w-full h-full rounded-full object-cover border-2 border-white dark:border-gray-900"})}),e.jsx("span",{className:"text-xs mt-1 text-center truncate w-20",children:t.userName.split(" ")[0]})]},t.id))]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Stories destacadas"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:a.map((t,c)=>e.jsxs(v.div,{whileHover:{y:-2},whileTap:{scale:.98},className:"aspect-[3/4] rounded-xl overflow-hidden relative",onClick:()=>x(t,c),children:[e.jsx("img",{src:t.imageUrl,alt:t.description,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent"}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-3",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden mr-2 ring-2 ring-white",children:e.jsx("img",{src:t.userAvatar,alt:t.userName,className:"w-full h-full object-cover"})}),e.jsx("span",{className:"text-sm font-medium text-white",children:t.userName})]}),e.jsx("p",{className:"text-xs text-gray-200 line-clamp-2",children:t.description})]})]},t.id))})]}),e.jsx(J,{children:d&&e.jsxs(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 z-50 bg-black flex items-center justify-center",onClick:l,children:[e.jsxs(v.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:"relative w-full h-full max-w-md mx-auto",onClick:t=>t.stopPropagation(),children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 z-10 flex p-2 space-x-1",children:a.map((t,c)=>e.jsx("div",{className:`h-1 rounded-full flex-1 ${c<=n?"bg-white":"bg-white/30"}`},c))}),e.jsxs("div",{className:"h-full relative",children:[e.jsx("img",{src:d.imageUrl,alt:d.description,className:"w-full h-full object-cover"}),e.jsxs("div",{className:"absolute top-0 left-0 right-0 p-6 pt-8 flex items-center",children:[e.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden mr-3",children:e.jsx("img",{src:d.userAvatar,alt:d.userName,className:"w-full h-full object-cover"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:d.userName}),e.jsx("p",{className:"text-xs text-gray-300",children:new Date(d.createdAt).toLocaleString("es-ES",{hour:"2-digit",minute:"2-digit",hour12:!0})})]})]}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black/80 via-black/50 to-transparent",children:[e.jsx("p",{className:"text-white mb-4",children:d.description}),e.jsxs("div",{className:"flex items-center space-x-5",children:[e.jsxs("button",{className:"text-white flex items-center",children:[e.jsx(V,{className:"h-6 w-6 mr-1"}),e.jsx("span",{children:d.likes})]}),e.jsxs("button",{className:"text-white flex items-center",children:[e.jsx(O,{className:"h-6 w-6 mr-1"}),e.jsx("span",{children:"Comentar"})]}),e.jsx("button",{className:"text-white",children:e.jsx(H,{className:"h-6 w-6"})})]})]}),n>0&&e.jsx("button",{className:"absolute left-2 top-1/2 -translate-y-1/2 bg-black/30 p-1 rounded-full",onClick:f,children:e.jsx(B,{className:"h-8 w-8 text-white"})}),n<a.length-1&&e.jsx("button",{className:"absolute right-2 top-1/2 -translate-y-1/2 bg-black/30 p-1 rounded-full",onClick:m,children:e.jsx(G,{className:"h-8 w-8 text-white"})})]})]}),e.jsx("button",{className:"absolute top-4 right-4 text-white z-50",onClick:l,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})]})};export{re as default};
