import{c as L,r as t,M as z,j as e,h as P,i as A,k as D,l as U,n as T,L as $,m as v,H as V,o as O}from"./index-BSYyVXs5.js";import{S as H}from"./share-2-CEWE7vn2.js";import{C as B,a as G}from"./chevron-right-C4H92vk8.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=L("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);class W extends t.Component{getSnapshotBeforeUpdate(p){const a=this.props.childRef.current;if(a&&p.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=a.offsetHeight||0,i.width=a.offsetWidth||0,i.top=a.offsetTop,i.left=a.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function _({children:r,isPresent:p}){const a=t.useId(),i=t.useRef(null),d=t.useRef({width:0,height:0,top:0,left:0}),{nonce:h}=t.useContext(z);return t.useInsertionEffect(()=>{const{width:n,height:o,top:x,left:l}=d.current;if(p||!i.current||!n||!o)return;i.current.dataset.motionPopId=a;const m=document.createElement("style");return h&&(m.nonce=h),document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${n}px !important;
            height: ${o}px !important;
            top: ${x}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(m)}},[p]),e.jsx(W,{isPresent:p,childRef:i,sizeRef:d,children:t.cloneElement(r,{ref:i})})}const F=({children:r,initial:p,isPresent:a,onExitComplete:i,custom:d,presenceAffectsLayout:h,mode:n})=>{const o=P(q),x=t.useId(),l=t.useCallback(f=>{o.set(f,!0);for(const s of o.values())if(!s)return;i&&i()},[o,i]),m=t.useMemo(()=>({id:x,initial:p,isPresent:a,custom:d,onExitComplete:l,register:f=>(o.set(f,!1),()=>o.delete(f))}),h?[Math.random(),l]:[a,l]);return t.useMemo(()=>{o.forEach((f,s)=>o.set(s,!1))},[a]),t.useEffect(()=>{!a&&!o.size&&i&&i()},[a]),n==="popLayout"&&(r=e.jsx(_,{isPresent:a,children:r})),e.jsx(A.Provider,{value:m,children:r})};function q(){return new Map}const b=r=>r.key||"";function I(r){const p=[];return t.Children.forEach(r,a=>{t.isValidElement(a)&&p.push(a)}),p}const J=({children:r,custom:p,initial:a=!0,onExitComplete:i,presenceAffectsLayout:d=!0,mode:h="sync",propagate:n=!1})=>{const[o,x]=D(n),l=t.useMemo(()=>I(r),[r]),m=n&&!o?[]:l.map(b),f=t.useRef(!0),s=t.useRef(l),c=P(()=>new Map),[R,M]=t.useState(l),[j,k]=t.useState(l);U(()=>{f.current=!1,s.current=l;for(let g=0;g<j.length;g++){const u=b(j[g]);m.includes(u)?c.delete(u):c.get(u)!==!0&&c.set(u,!1)}},[j,m.length,m.join("-")]);const N=[];if(l!==R){let g=[...l];for(let u=0;u<j.length;u++){const w=j[u],C=b(w);m.includes(C)||(g.splice(u,0,w),N.push(w))}h==="wait"&&N.length&&(g=N),k(I(g)),M(l);return}const{forceRender:y}=t.useContext(T);return e.jsx(e.Fragment,{children:j.map(g=>{const u=b(g),w=n&&!o?!1:l===j||m.includes(u),C=()=>{if(c.has(u))c.set(u,!0);else return;let S=!0;c.forEach(E=>{E||(S=!1)}),S&&(y==null||y(),k(s.current),n&&(x==null||x()),i&&i())};return e.jsx(F,{isPresent:w,initial:!f.current||a?void 0:!1,custom:w?void 0:p,presenceAffectsLayout:d,mode:h,onExitComplete:w?void 0:C,children:g},u)})})},Q=[{id:"1",userId:"1",userName:"María González",userAvatar:"https://images.pexels.com/photos/1036623/pexels-photo-1036623.jpeg?auto=compress&cs=tinysrgb&w=100",imageUrl:"https://images.pexels.com/photos/3617457/pexels-photo-3617457.jpeg?auto=compress&cs=tinysrgb&w=600",description:'Inauguración de la exposición "Luces del Sur" en el Centro Cultural',createdAt:new Date().toISOString(),likes:24,isViewed:!1},{id:"2",userId:"2",userName:"Carlos Moreno",userAvatar:"https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg?auto=compress&cs=tinysrgb&w=100",imageUrl:"https://images.pexels.com/photos/1749/fire-orange-emergency-burning.jpg?auto=compress&cs=tinysrgb&w=600",description:"Ensayo general para el concierto de música andina",createdAt:new Date().toISOString(),likes:18,isViewed:!1},{id:"3",userId:"3",userName:"Laura Díaz",userAvatar:"https://images.pexels.com/photos/1239291/pexels-photo-1239291.jpeg?auto=compress&cs=tinysrgb&w=100",imageUrl:"https://images.pexels.com/photos/995301/pexels-photo-995301.jpeg?auto=compress&cs=tinysrgb&w=600",description:"Taller de danza contemporánea en la plaza central",createdAt:new Date().toISOString(),likes:32,isViewed:!1},{id:"4",userId:"4",userName:"Pedro Ramírez",userAvatar:"https://images.pexels.com/photos/1681010/pexels-photo-1681010.jpeg?auto=compress&cs=tinysrgb&w=100",imageUrl:"https://images.pexels.com/photos/2873486/pexels-photo-2873486.jpeg?auto=compress&cs=tinysrgb&w=600",description:'Rodaje del nuevo cortometraje "Raíces"',createdAt:new Date().toISOString(),likes:15,isViewed:!1}],ee=()=>{const[r,p]=t.useState([]),[a,i]=t.useState(!0),[d,h]=t.useState(null),[n,o]=t.useState(0);t.useEffect(()=>{(async()=>{await new Promise(c=>setTimeout(c,1e3)),p(Q),i(!1)})()},[]);const x=(s,c)=>{h(s),o(c)},l=()=>{h(null)},m=s=>{s.stopPropagation(),n<r.length-1?(o(n+1),h(r[n+1])):l()},f=s=>{s.stopPropagation(),n>0&&(o(n-1),h(r[n-1]))};return a?e.jsx("div",{className:"py-8 flex justify-center",children:e.jsx($,{message:"Cargando stories..."})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"pt-2",children:e.jsxs("div",{className:"flex overflow-x-auto space-x-4 pb-4 hide-scrollbar",children:[e.jsxs(v.div,{whileTap:{scale:.95},className:"flex flex-col items-center min-w-[80px]",children:[e.jsx("div",{className:"w-16 h-16 rounded-full border-2 border-dashed border-primary-500 flex items-center justify-center bg-primary-50 dark:bg-primary-900/20",children:e.jsx(K,{className:"h-8 w-8 text-primary-500"})}),e.jsx("span",{className:"text-xs mt-1 text-gray-600 dark:text-gray-400",children:"Crear"})]}),r.map((s,c)=>e.jsxs(v.div,{whileTap:{scale:.95},className:"flex flex-col items-center min-w-[80px]",onClick:()=>x(s,c),children:[e.jsx("div",{className:`w-16 h-16 rounded-full p-[2px] ${s.isViewed?"bg-gray-300 dark:bg-gray-700":"bg-gradient-to-br from-primary-500 to-accent-500"}`,children:e.jsx("img",{src:s.userAvatar,alt:s.userName,className:"w-full h-full rounded-full object-cover border-2 border-white dark:border-gray-900"})}),e.jsx("span",{className:"text-xs mt-1 text-center truncate w-20",children:s.userName.split(" ")[0]})]},s.id))]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Stories destacadas"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:r.map((s,c)=>e.jsxs(v.div,{whileHover:{y:-2},whileTap:{scale:.98},className:"aspect-[3/4] rounded-xl overflow-hidden relative",onClick:()=>x(s,c),children:[e.jsx("img",{src:s.imageUrl,alt:s.description,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent"}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-3",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden mr-2 ring-2 ring-white",children:e.jsx("img",{src:s.userAvatar,alt:s.userName,className:"w-full h-full object-cover"})}),e.jsx("span",{className:"text-sm font-medium text-white",children:s.userName})]}),e.jsx("p",{className:"text-xs text-gray-200 line-clamp-2",children:s.description})]})]},s.id))})]}),e.jsx(J,{children:d&&e.jsxs(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 z-50 bg-black flex items-center justify-center",onClick:l,children:[e.jsxs(v.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:"relative w-full h-full max-w-md mx-auto",onClick:s=>s.stopPropagation(),children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 z-10 flex p-2 space-x-1",children:r.map((s,c)=>e.jsx("div",{className:`h-1 rounded-full flex-1 ${c<=n?"bg-white":"bg-white/30"}`},c))}),e.jsxs("div",{className:"h-full relative",children:[e.jsx("img",{src:d.imageUrl,alt:d.description,className:"w-full h-full object-cover"}),e.jsxs("div",{className:"absolute top-0 left-0 right-0 p-6 pt-8 flex items-center",children:[e.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden mr-3",children:e.jsx("img",{src:d.userAvatar,alt:d.userName,className:"w-full h-full object-cover"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:d.userName}),e.jsx("p",{className:"text-xs text-gray-300",children:new Date(d.createdAt).toLocaleString("es-ES",{hour:"2-digit",minute:"2-digit",hour12:!0})})]})]}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black/80 via-black/50 to-transparent",children:[e.jsx("p",{className:"text-white mb-4",children:d.description}),e.jsxs("div",{className:"flex items-center space-x-5",children:[e.jsxs("button",{className:"text-white flex items-center",children:[e.jsx(V,{className:"h-6 w-6 mr-1"}),e.jsx("span",{children:d.likes})]}),e.jsxs("button",{className:"text-white flex items-center",children:[e.jsx(O,{className:"h-6 w-6 mr-1"}),e.jsx("span",{children:"Comentar"})]}),e.jsx("button",{className:"text-white",children:e.jsx(H,{className:"h-6 w-6"})})]})]}),n>0&&e.jsx("button",{className:"absolute left-2 top-1/2 -translate-y-1/2 bg-black/30 p-1 rounded-full",onClick:f,children:e.jsx(B,{className:"h-8 w-8 text-white"})}),n<r.length-1&&e.jsx("button",{className:"absolute right-2 top-1/2 -translate-y-1/2 bg-black/30 p-1 rounded-full",onClick:m,children:e.jsx(G,{className:"h-8 w-8 text-white"})})]})]}),e.jsx("button",{className:"absolute top-4 right-4 text-white z-50",onClick:l,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})]})};export{ee as default};
