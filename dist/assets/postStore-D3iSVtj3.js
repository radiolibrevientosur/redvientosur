import{d as I,b as M}from"./index-DHBn2u_N.js";import{t as c,e as x,a as O,g as w,m as S,b as g,c as b,d as k}from"./en-US-CFRapNk1.js";function p(t,a){const e=c(t),n=c(a),s=e.getTime()-n.getTime();return s<0?-1:s>0?1:s}function L(t,a){const e=c(t),n=c(a),s=e.getFullYear()-n.getFullYear(),o=e.getMonth()-n.getMonth();return s*12+o}function v(t){return a=>{const n=(t?Math[t]:Math.trunc)(a);return n===0?0:n}}function P(t,a){return+c(t)-+c(a)}function F(t){const a=c(t);return a.setHours(23,59,59,999),a}function T(t){const a=c(t);return+F(a)==+x(a)}function A(t,a){const e=c(t),n=c(a),s=p(e,n),o=Math.abs(L(e,n));let i;if(o<1)i=0;else{e.getMonth()===1&&e.getDate()>27&&e.setDate(30),e.setMonth(e.getMonth()-s*o);let r=p(e,n)===-s;T(c(t))&&o===1&&p(t,n)===1&&(r=!1),i=s*(o-Number(r))}return i===0?0:i}function X(t,a,e){const n=P(t,a)/1e3;return v(e==null?void 0:e.roundingMethod)(n)}function j(t,a,e){const n=b(),s=(e==null?void 0:e.locale)??n.locale??O,o=2520,i=p(t,a);if(isNaN(i))throw new RangeError("Invalid time value");const r=Object.assign({},e,{addSuffix:e==null?void 0:e.addSuffix,comparison:i});let l,h;i>0?(l=c(a),h=c(t)):(l=c(t),h=c(a));const d=X(h,l),y=(w(h)-w(l))/1e3,u=Math.round((d-y)/60);let m;if(u<2)return e!=null&&e.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,r):d<10?s.formatDistance("lessThanXSeconds",10,r):d<20?s.formatDistance("lessThanXSeconds",20,r):d<40?s.formatDistance("halfAMinute",0,r):d<60?s.formatDistance("lessThanXMinutes",1,r):s.formatDistance("xMinutes",1,r):u===0?s.formatDistance("lessThanXMinutes",1,r):s.formatDistance("xMinutes",u,r);if(u<45)return s.formatDistance("xMinutes",u,r);if(u<90)return s.formatDistance("aboutXHours",1,r);if(u<S){const f=Math.round(u/60);return s.formatDistance("aboutXHours",f,r)}else{if(u<o)return s.formatDistance("xDays",1,r);if(u<g){const f=Math.round(u/S);return s.formatDistance("xDays",f,r)}else if(u<g*2)return m=Math.round(u/g),s.formatDistance("aboutXMonths",m,r)}if(m=A(h,l),m<12){const f=Math.round(u/g);return s.formatDistance("xMonths",f,r)}else{const f=m%12,D=Math.trunc(m/12);return f<3?s.formatDistance("aboutXYears",D,r):f<9?s.formatDistance("overXYears",D,r):s.formatDistance("almostXYears",D+1,r)}}function N(t,a){return j(t,k(t),a)}const _=[{id:"1",username:"johndoe",displayName:"John Doe",avatar:"https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg?auto=compress&cs=tinysrgb&w=100"},{id:"2",username:"janedoe",displayName:"Jane Doe",avatar:"https://images.pexels.com/photos/415829/pexels-photo-415829.jpeg?auto=compress&cs=tinysrgb&w=100"},{id:"3",username:"marksmith",displayName:"Mark Smith",avatar:"https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg?auto=compress&cs=tinysrgb&w=100"}],R=[{id:"1",userId:"2",type:"image",content:"Enjoying a beautiful day at the art gallery! #art #inspiration",mediaUrl:"https://images.pexels.com/photos/3004909/pexels-photo-3004909.jpeg?auto=compress&cs=tinysrgb&w=600",createdAt:new Date(Date.now()-1e3*60*60*2).toISOString(),likes:["3"],comments:[{id:"101",userId:"3",content:"Looks amazing! Which gallery is this?",createdAt:new Date(Date.now()-1e3*60*30).toISOString()}],isFavorite:!1},{id:"2",userId:"3",type:"text",content:"Just released a new album! So excited to share this journey with all of you. Link in bio to listen now. #music #newrelease",createdAt:new Date(Date.now()-1e3*60*60*5).toISOString(),likes:["1","2"],comments:[],isFavorite:!0},{id:"3",userId:"1",type:"image",content:"Working on a new painting technique. What do you think? #art #workinprogress",mediaUrl:"https://images.pexels.com/photos/1266808/pexels-photo-1266808.jpeg?auto=compress&cs=tinysrgb&w=600",createdAt:new Date(Date.now()-1e3*60*60*8).toISOString(),likes:[],comments:[{id:"102",userId:"2",content:"Love the colors! What materials are you using?",createdAt:new Date(Date.now()-1e3*60*60*7).toISOString()}],isFavorite:!1}],E=I((t,a)=>({posts:[],isLoading:!1,error:null,fetchPosts:async()=>{t({isLoading:!0,error:null});try{await new Promise(e=>setTimeout(e,1e3)),t({posts:R,isLoading:!1})}catch(e){t({error:e instanceof Error?e.message:"Failed to fetch posts",isLoading:!1})}},addPost:async e=>{t({isLoading:!0,error:null});try{await new Promise(s=>setTimeout(s,1e3));const n={...e,id:Math.random().toString(36).substring(2,9),createdAt:new Date().toISOString(),likes:[],comments:[],isFavorite:!1};t(s=>({posts:[n,...s.posts],isLoading:!1})),M.success("Post created successfully!")}catch(n){t({error:n instanceof Error?n.message:"Failed to create post",isLoading:!1}),M.error("Failed to create post")}},toggleLike:(e,n)=>{t(s=>({posts:s.posts.map(i=>{if(i.id===e){const r=i.likes.includes(n);return{...i,likes:r?i.likes.filter(l=>l!==n):[...i.likes,n]}}return i})}))},addComment:(e,n,s)=>{s.trim()&&(t(o=>({posts:o.posts.map(r=>{if(r.id===e){const l={id:Math.random().toString(36).substring(2,9),userId:n,content:s,createdAt:new Date().toISOString()};return{...r,comments:[...r.comments,l]}}return r})})),M.success("Comment added"))},toggleFavorite:e=>{t(n=>({posts:n.posts.map(o=>o.id===e?{...o,isFavorite:!o.isFavorite}:o)}))},getFavoritePosts:()=>a().posts.filter(e=>e.isFavorite)})),U=t=>_.find(a=>a.id===t),W=t=>N(new Date(t),{addSuffix:!0});export{W as f,U as g,E as u};
